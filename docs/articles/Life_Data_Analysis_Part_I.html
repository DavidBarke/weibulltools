<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Life Data Analysis Part I - Estimation of Failure Probabilities â€¢ weibulltools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Life Data Analysis Part I - Estimation of Failure Probabilities">
<meta property="og:description" content="weibulltools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">weibulltools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Life_Data_Analysis_Part_I.html">Life Data Analysis Part I - Estimation of Failure Probabilities</a>
    </li>
    <li>
      <a href="../articles/Life_Data_Analysis_Part_II.html">Life Data Analysis Part II - Parameter Estimation of Parametric Lifetime Models</a>
    </li>
    <li>
      <a href="../articles/Life_Data_Analysis_Part_III.html">Life Data Analysis Part III - Mixture Models</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Life_Data_Analysis_Part_I_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="Life_Data_Analysis_Part_I_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="Life_Data_Analysis_Part_I_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Life Data Analysis Part I - Estimation of Failure Probabilities</h1>
            <h3 class="subtitle">A Non-parametric Approach</h3>
                        <h4 class="author">Tim-Gunnar Hensel</h4>
            
            <h4 class="date">2020-12-16</h4>
      
      
      <div class="hidden name"><code>Life_Data_Analysis_Part_I.Rmd</code></div>

    </div>

    
    
<p>This document presents non-parametric methods for estimating the failure probabilities of units and their presentation in interactive visualizations. A unit can be a single component, an assembly or an entire system.</p>
<div id="introduction-to-life-data-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-to-life-data-analysis" class="anchor"></a>Introduction to Life Data Analysis</h2>
<p>If the lifetime of a unit is considered to be a continuous random variable <em>T</em>, then the probability that a unit has failed by a certain point in time or a distance <em>t</em> is defined by its CDF <em>(cumulative distribution function)</em> <em>F(t)</em>.</p>
<p><span class="math display">\[ P(T\leq t) = F(t) \]</span></p>
<p>In order to obtain an estimate of the cumulative failure probability for each observation <span class="math inline">\(t_1, t_2, ..., t_n\)</span> two approaches are possible. Using a parametric lifetime distribution requires that the underlying assumptions for the sample data are valid. If the distribution-specific assumptions are correct, the model parameters can be estimated and the CDF is computable. But if the required conditions could not be met, interpretations and derived conclusions are not reliable. A more general approach for the calculation of the cumulative failure probability is to use non-parametric statistical estimators <span class="math inline">\(\hat{F}(t_1), \hat{F}(t_2), ..., \hat{F}(t_n)\)</span>. In comparison to a parametric distribution no general assumptions must be held. For non-parametric estimators, an ordered sample of size n is needed. Starting at 1, the ranks <span class="math inline">\(i \in \{1, 2, ..., n \}\)</span> are assigned to the ascending sorted sample values. Since there is a known relationship between ranks and corresponding ranking probabilities a CDF can be calculated.</p>
<p>But rank distributions are systematically skewed distributions and thus the median value instead of the expected value <span class="math inline">\(E\left[F\left(t_i\right)\right] = \frac{i}{n + 1}\)</span> is used for estimation <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>. This skewness is visualized in <em>Figure 1</em>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> <span class="co"># using dplyr manipulation functions and ggplot2</span>
<span class="co">#&gt; Warning: Paket 'tibble' wurde unter R Version 4.0.3 erstellt</span>
<span class="co">#&gt; Warning: Paket 'dplyr' wurde unter R Version 4.0.3 erstellt</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="co"># CDF</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="co"># sample size</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span><span class="op">)</span> <span class="co"># ranks</span>
<span class="va">r</span> <span class="op">&lt;-</span> <span class="va">n</span> <span class="op">-</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span> <span class="co"># inverse ranking</span>

<span class="va">df_dens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html">expand.grid</a></span><span class="op">(</span>cdf <span class="op">=</span> <span class="va">x</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, r <span class="op">=</span> <span class="va">n</span> <span class="op">-</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span>, pdf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">dbeta</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, shape1 <span class="op">=</span> <span class="va">i</span>, shape2 <span class="op">=</span> <span class="va">r</span><span class="op">)</span><span class="op">)</span>

<span class="va">densplot</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_dens</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cdf</span>, y <span class="op">=</span> <span class="va">pdf</span>, colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_colour_discrete</span><span class="op">(</span>guide <span class="op">=</span> <span class="fu">guide_legend</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"i"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Failure Probability"</span>, y <span class="op">=</span> <span class="st">"Density"</span><span class="op">)</span>
<span class="va">densplot</span></code></pre></div>
<div class="figure">
<img src="Life_Data_Analysis_Part_I_files/figure-html/rank%20densities-1.png" alt="Figure 1: Densities for different ranks i in samples of size n = 10." width="700"><p class="caption">
Figure 1: Densities for different ranks i in samples of size n = 10.
</p>
</div>
<div id="failure-probability-estimation" class="section level3">
<h3 class="hasAnchor">
<a href="#failure-probability-estimation" class="anchor"></a>Failure Probability Estimation</h3>
<p>In practice, a simplification for the calculation of the median value, also called median rank, is made. The formula of <em>Benardâ€™s Approximation</em> is given by</p>
<p><span class="math display">\[\hat{F}(t_i) \approx \frac{i - 0,3}{n + 0,4} \]</span></p>
<p>and is described in <em>The Plotting of Observations on Probability Paper </em> <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<p>However, this equation only provides valid estimates for failure probabilities if all units in the sample are defectives (<code><a href="../reference/estimate_cdf.html">estimate_cdf(methods = "mr", ...)</a></code>).</p>
<p>In field data analysis, however, the sample mainly consists of intact units and only a small fraction of units failed. Units that have no damage at the point of analysis and also have not reached the operating time or mileage of units that have already failed, are potential candidates for future failures. As these, for example, still are likely to fail during a specific time span, like the guarantee period, the failure probability must be adjusted upwards by these potential candidates.</p>
<p>A commonly used method for correcting probabilities of (multiple) right censored data is Johnsonâ€™s method (<code><a href="../reference/estimate_cdf.html">estimate_cdf(methods = "johnson", ...)</a></code>). By this method, all units that fall into the period looked at are sorted in an ascending order of their operating time or mileage. If there are units that have not failed before the <em>i</em>-th failure, an adjusted rank for the <em>i</em>-th failure is formed. This correction takes the potential candidates into account and increases the rank number. In consequence, a higher rank leads to a higher failure probability. This can be seen in <em>Figure 1</em>.</p>
<p>The rank adjustment is calculated as follows:</p>
<p><span class="math display">\[j_i = j_{i-1} + x_i \cdot I_i, \;\; with \;\; j_0 = 0\]</span></p>
<p>Here, <span class="math inline">\(j_ {i-1}\)</span> is the adjusted rank of the previous failure, <span class="math inline">\(x_i\)</span> is the number of defectives at time/distance <span class="math inline">\(t_i\)</span> and <span class="math inline">\(I_i\)</span> is the increment that corrects the rank by the candidates.</p>
<p><span class="math display">\[I_i=\frac{(n+1)-j_{i-1}}{1+(n-n_i)}\]</span></p>
<p>The sample size is <span class="math inline">\(n\)</span> and <span class="math inline">\(n_i\)</span> is the number of units that have a lower operating time/mileage than the <em>i</em>-th unit. Once the adjusted ranks are calculated, the failure probabilities can be estimated according to <em>Benardâ€™s Approximation</em>.</p>
<p>Other methods in <code>weibulltools</code> that can also handle (multiple) right censored data are the Kaplan-Meier estimator (<code><a href="../reference/estimate_cdf.html">estimate_cdf(methods = "kaplan")</a></code>) and the Nelson-Aalen estimator (<code><a href="../reference/estimate_cdf.html">estimate_cdf(method = "nelson")</a></code>).</p>
</div>
<div id="probability-plotting" class="section level3">
<h3 class="hasAnchor">
<a href="#probability-plotting" class="anchor"></a>Probability Plotting</h3>
<p>After computing failure probabilities a method called <em>Probability Plotting</em> is applicable. It is a graphical <em>goodness of fit</em> technique that is used in assessing whether an assumed distribution is appropriate to model the sample data.</p>
<p>The axes of a probability plot are transformed in such a way that the CDF of a specified model is represented through a straight line. If the plotted points (<code><a href="../reference/plot_prob.html">plot_prob()</a></code>) fall on an approximately straight line it can be said that the chosen distribution is adequate.</p>
<p>The two-parameter Weibull distribution can be parameterized with <span class="math inline">\(\eta\)</span> and <span class="math inline">\(\beta\)</span> such that the CDF is characterized by the following equation:</p>
<p><span class="math display">\[F(t)=1-\exp\left[ -\left(\frac{t}{\eta}\right)^{\beta}\right]\]</span></p>
<p>Then a linearized version of the CDF is:</p>
<p><span class="math display">\[ \log\left[-\log(1-F(t))\right] = \beta \cdot \log(t) - \beta \cdot \log(\eta)\]</span></p>
<p>This leads to the following transformations regarding the axes:</p>
<ul>
<li>Abscissa: <span class="math inline">\(x = \log(t)\)</span>
</li>
<li>Ordinate: <span class="math inline">\(y = \log\left[-\log(1-F(t))\right]\)</span>.</li>
</ul>
<p>Another version of the Weibull CDF such that the distribution is part of the log-location-scale family with parameters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> is:</p>
<p><span class="math display">\[F(t)=\Phi_{SEV}\left(\frac{\log(t) - \mu}{\sigma}\right)\]</span></p>
<p>A linearized representation of this CDF is:</p>
<p><span class="math display">\[\Phi^{-1}_{SEV}\left(F(t)\right)=\frac{1}{\sigma} \cdot \log(t) - \frac{\mu}{\sigma}\]</span></p>
<p>This leads to the following transformations regarding the axes:</p>
<ul>
<li>Abscissa: <span class="math inline">\(x = \log(t)\)</span>
</li>
<li>Ordinate: <span class="math inline">\(y = \Phi^{-1}_{SEV}\left(F(t)\right)\)</span>, which is the quantile function of the SEV (<em>smallest extreme value</em>) distribution.</li>
</ul>
<p>It can be easily seen that the parameters can be converted into each other. The corresponding equations are:</p>
<p><span class="math display">\[\beta = \frac{1}{\sigma} \;\; and \]</span></p>
<p><span class="math display">\[\eta = \exp\left(\mu\right).\]</span></p>
</div>
</div>
<div id="data-shock" class="section level2">
<h2 class="hasAnchor">
<a href="#data-shock" class="anchor"></a>Data: shock</h2>
<p>To apply the introduced methods of non-parametric failure probability estimation and probability plotting the <code>shock</code> data is used. In this dataset kilometer-dependent problems that have occurred on shock absorbers are reported. In addition to failed items the dataset also contains non-defectives, so called <em>censored</em> observations. The data can be found in <em>Statistical Methods for Reliability Data</em> <a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">shock</span><span class="op">)</span>

<span class="va">failure_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reliability_data.html">reliability_data</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">shock</span>, x <span class="op">=</span> <span class="va">distance</span>, status <span class="op">=</span> <span class="va">status</span><span class="op">)</span>
<span class="va">failure_tbl</span>
<span class="co">#&gt; Reliability Data:</span>
<span class="co">#&gt; # A tibble: 38 x 3</span>
<span class="co">#&gt;        x status id   </span>
<span class="co">#&gt;    &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;</span>
<span class="co">#&gt;  1  6700      1 ID1  </span>
<span class="co">#&gt;  2  6950      0 ID2  </span>
<span class="co">#&gt;  3  7820      0 ID3  </span>
<span class="co">#&gt;  4  8790      0 ID4  </span>
<span class="co">#&gt;  5  9120      1 ID5  </span>
<span class="co">#&gt;  6  9660      0 ID6  </span>
<span class="co">#&gt;  7  9820      0 ID7  </span>
<span class="co">#&gt;  8 11310      0 ID8  </span>
<span class="co">#&gt;  9 11690      0 ID9  </span>
<span class="co">#&gt; 10 11850      0 ID10 </span>
<span class="co">#&gt; # ... with 28 more rows</span></code></pre></div>
</div>
<div id="estimation-of-failure-probabilities-with-package-weibulltools" class="section level2">
<h2 class="hasAnchor">
<a href="#estimation-of-failure-probabilities-with-package-weibulltools" class="anchor"></a>Estimation of Failure Probabilities with Package <code>weibulltools</code>
</h2>
<p>For reasons of simplicity we will ignore the differences between the failure modes <em>Mode1</em> and <em>Mode2</em> which are shown in <em>Figure 2</em>. Thus, we will act as there is only one mechanism of damage.</p>
<p>First, we are interested in how censored observations influence the estimation of failure probabilities in comparison to the case where only failed units are considered. In the latter case we will use the function <code><a href="../reference/estimate_cdf.html">estimate_cdf()</a></code> with <code>methods = "mr"</code>. To deal with survived and failed units we will use <code><a href="../reference/estimate_cdf.html">estimate_cdf()</a></code> with <code>methods = "johnson"</code>. In order to use <code>estimate_cdf</code> we must convert the <code>shock</code> dataset to an appropriate format using the function <code><a href="../reference/reliability_data.html">reliability_data()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Estimate CDF</span>
<span class="va">tbl_cdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/estimate_cdf.html">estimate_cdf</a></span><span class="op">(</span><span class="va">failure_tbl</span>, methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"mr"</span>, <span class="st">"johnson"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; The 'mr' method only considers failed units (status == 1) and does not retain intact units (status == 0).</span>

<span class="co"># First case where only failed units are taken into account:</span>
<span class="va">tbl_cdf_mr</span> <span class="op">&lt;-</span> <span class="va">tbl_cdf</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">method</span> <span class="op">==</span> <span class="st">"mr"</span><span class="op">)</span>

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">tbl_cdf_mr</span>, format <span class="op">=</span> <span class="st">"html"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span>, align <span class="op">=</span> <span class="st">"c"</span>, 
             caption <span class="op">=</span> <span class="st">"Table 1: Failure probabilities using failed items."</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>
Table 1: Failure probabilities using failed items.
</caption>
<thead><tr>
<th style="text-align:center;">
id
</th>
<th style="text-align:center;">
x
</th>
<th style="text-align:center;">
status
</th>
<th style="text-align:center;">
rank
</th>
<th style="text-align:center;">
prob
</th>
<th style="text-align:center;">
method
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
ID1
</td>
<td style="text-align:center;">
6700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.0614035
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID5
</td>
<td style="text-align:center;">
9120
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
0.1491228
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID13
</td>
<td style="text-align:center;">
12200
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.2368421
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID15
</td>
<td style="text-align:center;">
13150
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
0.3245614
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID19
</td>
<td style="text-align:center;">
14300
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
0.4122807
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID20
</td>
<td style="text-align:center;">
17520
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
0.5000000
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID27
</td>
<td style="text-align:center;">
20100
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
0.5877193
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID31
</td>
<td style="text-align:center;">
20900
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
0.6754386
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID32
</td>
<td style="text-align:center;">
22700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
9
</td>
<td style="text-align:center;">
0.7631579
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID34
</td>
<td style="text-align:center;">
26510
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
0.8508772
</td>
<td style="text-align:center;">
mr
</td>
</tr>
<tr>
<td style="text-align:center;">
ID36
</td>
<td style="text-align:center;">
27490
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
11
</td>
<td style="text-align:center;">
0.9385965
</td>
<td style="text-align:center;">
mr
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Second case where both, survived and failed units are considered:</span>
<span class="va">tbl_cdf_john</span> <span class="op">&lt;-</span> <span class="va">tbl_cdf</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">method</span> <span class="op">==</span> <span class="st">"johnson"</span><span class="op">)</span> 

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">tbl_cdf_john</span>, format <span class="op">=</span> <span class="st">"html"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span>, align <span class="op">=</span> <span class="st">"c"</span>, 
             caption <span class="op">=</span> <span class="st">"Table 2: Failure probabilities using all items."</span><span class="op">)</span> </code></pre></div>
<table class="table">
<caption>
Table 2: Failure probabilities using all items.
</caption>
<thead><tr>
<th style="text-align:center;">
id
</th>
<th style="text-align:center;">
x
</th>
<th style="text-align:center;">
status
</th>
<th style="text-align:center;">
rank
</th>
<th style="text-align:center;">
prob
</th>
<th style="text-align:center;">
method
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
ID1
</td>
<td style="text-align:center;">
6700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.000000
</td>
<td style="text-align:center;">
0.0182292
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID2
</td>
<td style="text-align:center;">
6950
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID3
</td>
<td style="text-align:center;">
7820
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID4
</td>
<td style="text-align:center;">
8790
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID5
</td>
<td style="text-align:center;">
9120
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.085714
</td>
<td style="text-align:center;">
0.0465030
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID6
</td>
<td style="text-align:center;">
9660
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID7
</td>
<td style="text-align:center;">
9820
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID8
</td>
<td style="text-align:center;">
11310
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID9
</td>
<td style="text-align:center;">
11690
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID10
</td>
<td style="text-align:center;">
11850
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID11
</td>
<td style="text-align:center;">
11880
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID12
</td>
<td style="text-align:center;">
12140
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID13
</td>
<td style="text-align:center;">
12200
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3.452910
</td>
<td style="text-align:center;">
0.0821070
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID14
</td>
<td style="text-align:center;">
12870
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID15
</td>
<td style="text-align:center;">
13150
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4.874794
</td>
<td style="text-align:center;">
0.1191353
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID16
</td>
<td style="text-align:center;">
13330
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID17
</td>
<td style="text-align:center;">
13470
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID18
</td>
<td style="text-align:center;">
14040
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID19
</td>
<td style="text-align:center;">
14300
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6.499803
</td>
<td style="text-align:center;">
0.1614532
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID20
</td>
<td style="text-align:center;">
17520
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.124813
</td>
<td style="text-align:center;">
0.2037712
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID21
</td>
<td style="text-align:center;">
17540
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID22
</td>
<td style="text-align:center;">
17890
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID23
</td>
<td style="text-align:center;">
18450
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID24
</td>
<td style="text-align:center;">
18960
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID25
</td>
<td style="text-align:center;">
18980
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID26
</td>
<td style="text-align:center;">
19410
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID27
</td>
<td style="text-align:center;">
20100
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
10.499828
</td>
<td style="text-align:center;">
0.2656205
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID28
</td>
<td style="text-align:center;">
20100
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID29
</td>
<td style="text-align:center;">
20150
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID30
</td>
<td style="text-align:center;">
20320
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID31
</td>
<td style="text-align:center;">
20900
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
13.666514
</td>
<td style="text-align:center;">
0.3480863
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID32
</td>
<td style="text-align:center;">
22700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16.833199
</td>
<td style="text-align:center;">
0.4305521
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID33
</td>
<td style="text-align:center;">
23490
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID34
</td>
<td style="text-align:center;">
26510
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
20.527666
</td>
<td style="text-align:center;">
0.5267621
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID35
</td>
<td style="text-align:center;">
27410
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID36
</td>
<td style="text-align:center;">
27490
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
25.145750
</td>
<td style="text-align:center;">
0.6470247
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID37
</td>
<td style="text-align:center;">
27890
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
<tr>
<td style="text-align:center;">
ID38
</td>
<td style="text-align:center;">
28100
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
johnson
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>If we compare <em>Table 1</em> and <em>Table 2</em> we can see that survivors decrease probabilities. But this is just that what was expected since undamaged units with longer or equal operation times (here mileage) let us gain confidence in the product.</p>
</div>
<div id="probability-plotting-with-package-weibulltools" class="section level2">
<h2 class="hasAnchor">
<a href="#probability-plotting-with-package-weibulltools" class="anchor"></a>Probability Plotting with Package <code>weibulltools</code>
</h2>
<p>The next step is to visualize the estimated probabilities in a probability plot. With function <code><a href="../reference/plot_prob.html">plot_prob()</a></code> we can construct plots for several lifetime distributions.</p>
<p>Here we want to use a Weibull grid in which the estimates, given in <em>Table 1</em> and <em>Table 2</em>, are plotted. With <code><a href="../reference/plot_prob.html">plot_prob()</a></code> we can visualize the estimates of multiple methods at once.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Weibull grid for probabilities calculated with Johnson: </span>
<span class="va">weibull_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_prob.html">plot_prob</a></span><span class="op">(</span>
  <span class="va">tbl_cdf</span>,
  distribution <span class="op">=</span> <span class="st">"weibull"</span>, 
  title_main <span class="op">=</span> <span class="st">"Weibull Probability Plot"</span>, 
  title_x <span class="op">=</span> <span class="st">"Mileage in km"</span>, 
  title_y <span class="op">=</span> <span class="st">"Probability of Failure in %"</span>,
  title_trace <span class="op">=</span> <span class="st">"Failures"</span>,
  plot_method <span class="op">=</span> <span class="st">"ggplot2"</span>
<span class="op">)</span>

<span class="va">weibull_grid</span></code></pre></div>
<div class="figure">
<img src="Life_Data_Analysis_Part_I_files/figure-html/probability%20plot%20weibull-1.png" alt="Figure 3: Plotting positions in weibull grid." width="700"><p class="caption">
Figure 3: Plotting positions in weibull grid.
</p>
</div>
<p><br></p>
<p><em>Figure 3</em> shows that the consideration of survivors (blue points, <em>Failures: johnson</em>) decreases the failure probability in comparison to the sole evaluation of failed items (green points, <em>Failures: mr</em>).</p>
<p>Finally, we want to use a Log-normal probability plot to visualize the estimated failure probabilities.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Log-Normal grid for estimated probabilities</span>
<span class="va">lognorm_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_prob.html">plot_prob</a></span><span class="op">(</span>
  <span class="va">tbl_cdf</span>,
  distribution <span class="op">=</span> <span class="st">"lognormal"</span>,
  title_main <span class="op">=</span> <span class="st">"Log-Normal Probability Plot"</span>,
  title_x <span class="op">=</span> <span class="st">"Mileage in km"</span>,
  title_y <span class="op">=</span> <span class="st">"Probability of Failure in %"</span>,
  title_trace <span class="op">=</span> <span class="st">"Defect Shock Absorbers"</span>,
  plot_method <span class="op">=</span> <span class="st">"ggplot2"</span>
<span class="op">)</span>

<span class="va">lognorm_grid</span></code></pre></div>
<div class="figure">
<img src="Life_Data_Analysis_Part_I_files/figure-html/probability%20plot%20log-normal-1.png" alt="Figure 4: Plotting positions in log-normal grid." width="700"><p class="caption">
Figure 4: Plotting positions in log-normal grid.
</p>
</div>
<p><br></p>
<p>On the basis of <em>Figure 3</em> and <em>Figure 4</em> we can subjectivly assess the goodness of fit of Weibull and Log-normal. It can be seen that in both grids, the plotted points roughly fall on a straight line. Hence one can say that the Weibull as well as the Log-normal are good model candidates for the <code>shock</code> data.</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Kapur, K. C.; Lamberson, L. R.: <em>Reliability in Engineering Design</em>, <em>New York: Wiley</em>, 1977, pp.Â 297-301<a href="#fnref1" class="footnote-back">â†©ï¸Ž</a></p></li>
<li id="fn2"><p>Benard, A.; Bos-Levenbach, E. C.: <em>The Plotting of Observations on Probability Paper</em>, <em>Statistica Neerlandica 7 (3)</em>, 1953, pp.Â 163-173<a href="#fnref2" class="footnote-back">â†©ï¸Ž</a></p></li>
<li id="fn3"><p>Meeker, W. Q.; Escobar, L. A.: <em>Statistical Methods for Reliability Data</em>, <em>New York, Wiley series in probability and statistics</em>, 1998, p.Â 630<a href="#fnref3" class="footnote-back">â†©ï¸Ž</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tim-Gunnar Hensel, David Barkemeyer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
